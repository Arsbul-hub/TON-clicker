
<ButImage@ButtonBehavior+AsyncImage>

<SettingsTab>:
    orientation: "vertical"
    size_hint: 1,1
    pos_hint: {"center_x": .5, "center_y": .5}
    border_radius: 5
    radius: [5]
    elevation: 20
<Error_show>:
    BoxLayout:
        orientation: "vertical"
        Label:

            color: 0,0,0,1
            text: "Ошибка!!! \nПроизошла ошибка подключения к интернету или wifi.\nЕсли вы подключены к wifi, то проверьте корректность его работы. \nЕсли вы используете мобильные интернет, то проверьте его работоспособность. \nЕсли вы уверены, что у вас работает интренет, поробуте перезапустить приложение."
            text_size: self.width, None
        Button:
            text: "Оффлайн майнинг"
            on_press: root.try_offline()
ScreenManagement:
    #transition: FadeTransition()
    id: d
    Error_show
    Settings_gui
    Auth
    Clicker

<Auth>:


    MDBottomNavigation:
        name: "auth"
        id: auth
        #color stuff
        #panel_color: 0,0,1,1

        MDBottomNavigationItem:
            text: "Регистрация"
            icon: "account"
            name: "registration"

            BoxLayout:
                size_hint: .5, .7
                pos_hint: {"center_x":.5, "center_y":.5}

                orientation: "vertical"
                canvas.before:
                    Color:
                        rgba: .1, .6, .8, 1
                    Rectangle:
                        pos: self.pos
                        size: self.size
                Label:
                    text: "Введите имя:"
                    color: 1,1,1,1
                    size_hint: .1,.1
                    font_name: "main_font.ttf"
                    font_size: 35
                    pos_hint: {"center_x":.5}
                TextInput:
                    id: name_r
                    size_hint: .9, .05
                    font_name: "main_font.ttf"
                    font_size: 35
                    pos_hint: {"center_x":.5}
                    multiline: False
                Label:
                    text: "Введите логин:"
                    color: 1,1,1,1
                    size_hint: .1,.1
                    font_name: "main_font.ttf"
                    font_size: 35
                    pos_hint: {"center_x":.5}
                TextInput:
                    id: email_r
                    size_hint: .9, .05
                    font_name: "main_font.ttf"
                    font_size: 35
                    pos_hint: {"center_x":.5}
                    multiline: False
                Label:
                    text: "Введите пароль:"
                    color: 1,1,1,1
                    font_name: "main_font.ttf"
                    font_size: 35
                    size_hint: .1,.1
                    pos_hint: {"center_x":.5}
                TextInput:
                    id: password_r
                    size_hint: .9, .05
                    font_name: "main_font.ttf"
                    font_size: 35
                    pos_hint: {"center_x":.5}
                    multiline: False
                MDFillRoundFlatButton:

                    md_bg_color: 1, 1, 1, 1
                    #size_hint: .3, .1

                    pos_hint: {"center_x":.5}


                    text: "Зарегистриоваться"
                    text_color: .1, .6, .8, 1
                    on_press: root.registration()
        MDBottomNavigationItem:
            text: "Вход"
            name: "login"
            icon: "account"

            BoxLayout:

                size_hint: .5, .5
                pos_hint: {"center_x":.5, "center_y":.5}

                orientation: "vertical"
                canvas.before:
                    Color:
                        rgba: .1, .6, .8, 1
                    Rectangle:
                        pos: self.pos
                        size: self.size
                Label:
                    text: "Введите логин:"
                    font_name: "main_font.ttf"
                    font_size: 35
                    color: 1,1,1,1
                    size_hint: .1,.1
                    pos_hint: {"center_x":.5}
                TextInput:
                    id: email_l
                    size_hint: .9, .05
                    font_size: 50
                    font_name: "main_font.ttf"
                    font_size: 35
                    pos_hint: {"center_x":.5}
                    multiline: False
                Label:
                    text: "Введите пароль:"
                    color: 1,1,1,1
                    font_name: "main_font.ttf"
                    font_size: 35
                    size_hint: .1,.1
                    pos_hint: {"center_x":.5}
                TextInput:
                    id: password_l
                    size_hint: .9, .05
                    font_name: "main_font.ttf"
                    font_size: 35
                    pos_hint: {"center_x":.5}
                    multiline: False
                MDFillRoundFlatButton:

                    md_bg_color: 1, 1, 1, 1
                    #size_hint: .3, .1

                    pos_hint: {"center_x":.5}
                    text: "Войти"
                    text_color: .1, .6, .8, 1
                    on_press: root.login()
<Settings_gui>:

    MDTabs:
        lock_swiping: True
        SettingsTab:
            text: "Аккаунт"
            Button:

                text: "<Сохранить"
                size_hint: .2,.1
                pos_hint_y: .9
                on_press: root.u()


            Label:
                id: f
                text: "Ваш аккаунт"
                color: 0,0,0,1
        SettingsTab:
            text: "Шрифт"
            Button:

                text: "<Сохранить"
                size_hint: .2,.1
                pos_hint_y: .9
                on_press: root.back()
            Label:
                text: "Размер шрифта"
                color: 0,0,0,1
            MDSlider:
                id: settings_font_slider
                min: 0

                max: 100
                step: 1
                on_touch_up: root.set_font()
                size_hint: .8,.3
                pos_hint: {"center_x":.5,"center_y":.1}
                orientation: 'horizontal'


<Clicker>:
    id: main_gui
    main_font_size: 29
    orientation: 'vertical'


    MDBottomNavigation:
        name: "tools"
        id: tools
        #color stuff
        #panel_color: 0,0,1,1

        MDBottomNavigationItem:
            name: 'main'
            text: "Майнинг"
            icon: 'bitcoin'
            id: hi


            Image:
                source: "background.jpg"
                allow_stretch: True
                keep_ratio: False

            MDToolbar:
                id: toolbar

                left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]
                title:'Настройки'
                pos_hint: {"y": .93}
                size_hint_y: .07
                left_action_items:[['account-cog',lambda x: nav_drawer.set_state("open")]]
                right_action_items:[['information',lambda x: root.show_info()]]
                elevation:10
                #md_bg_color: 0,0,100/255,1

            ButImage:


                size_hint: (.38,.38) if self.state == 'down' else (.4,.4)

                source: 'mining.png'

                pos_hint: {"center_x":.5,"center_y":.5}

                on_press: root.on_tap()

            Label:
                size_hint: (1,1)
                id: TON_num

                color: 1,1,1,1
                pos_hint: {"center_x":.5,"center_y":.9}
                size_hint: 1,1
                font_size: 30
                font_name: "main_font.ttf"


            MDNavigationDrawer:
                id: nav_drawer

                ScrollView:
                    MDList:
                        OneLineListItem:
                            icon: "account-cog"
                            text: "Выйти из текущего аккаунта"
                            on_press: root.sign_out()
        MDBottomNavigationItem:
            id: store
            text: "Магазин"
            icon: 'store'
            name: 'store'
            MDTabs:
                lock_swiping: True
                SettingsTab:
                    text: "Майнинг"


                    #Удвоение майнинга
                    BoxLayout:
                        orientation: "vertical"


                        Label:
                            id: text_doubling
                            font_size: root.main_font_size
                            color: 0,0,0,1
                            allow_stretch: True
                            keep_ratio: False
                            pos_hint: {"center_x":.5,"center_y":.9}
                            size_hint: (.4,.4)
                            font_name: "main_font.ttf"
                            text_size: self.width, None
                        ButImage:


                            size_hint: .3,.1
                            pos_hint: {"center_x":.5,"center_y":.8}



                            allow_stretch: True
                            keep_ratio: False
                            id: buy_doubling


                            on_press: root.buy_doubling()

                            source: "button_normal.jpg"
                            Label:
                                text: "Купить"
                                font_size: root.main_font_size
                                #font_name: "main_font.ttf"
                                center_x: self.parent.center_x
                                center_y: self.parent.center_y


                #SettingsTab:

                    #text: "Прокачка кнопки"


                        #Суммирование майнинга
                        Label:
                            id: text_summation
                            font_size: root.main_font_size
                            font_name: "main_font.ttf"
                            color: 0,0,0,1
                            allow_stretch: True
                            keep_ratio: False
                            pos_hint: {"center_x":.6,"center_y":.7}
                            size_hint: (.4,.4)
                            text_size: self.width, None
                        ButImage:


                            size_hint: .3,.1
                            pos_hint: {"center_x":.5,"center_y":.8}



                            allow_stretch: True
                            keep_ratio: False



                            on_press: root.buy_summation()

                            source: "button_normal.jpg"
                            Label:
                                text: "Купить"
                                font_size: root.main_font_size
                                #font_name: "main_font.ttf"
                                center_x: self.parent.center_x
                                center_y: self.parent.center_y


                SettingsTab:

                    text: "Кликер"

                    # Купить бота и изменить его скорость
                    BoxLayout:
                        center_y: 1111111111111

                        orientation: "vertical"


                        Label:
                            id: text_bot
                            font_size: root.main_font_size
                            font_name: "main_font.ttf"
                            color: 0,0,0,1
                            allow_stretch: True
                            keep_ratio: False
                            pos_hint: {"center_x":.5,"center_y":.9}
                            size_hint: (.4,.4)
                            text_size: self.width, None
                        ButImage:


                            size_hint: .3,.1
                            pos_hint: {"center_x":.5,"center_y":.8}



                            allow_stretch: True
                            keep_ratio: False
                            id: buy_doubling


                            on_press: root.buy_bot()

                            source: "button_normal.jpg"
                            Label:
                                text: "Купить"
                                font_size: root.main_font_size
                                #font_name: "main_font.ttf"
                                center_x: self.parent.center_x
                                center_y: self.parent.center_y




                        #Удвоение майнинга бота

                        Label:
                            id: text_bot_doubling
                            font_size: root.main_font_size
                            font_name: "main_font.ttf"
                            color: 0,0,0,1
                            allow_stretch: True
                            keep_ratio: False
                            pos_hint: {"center_x":.5,"center_y":.6}
                            size_hint: (.4,.4)
                            text_size: self.width, None
                        ButImage:


                            size_hint: .3,.1
                            pos_hint: {"center_x":.5,"center_y":.8}



                            allow_stretch: True
                            keep_ratio: False
                            id: buy_doubling


                            on_press: root.buy_bot_doubling()

                            source: "button_normal.jpg"
                            Label:
                                text: "Купить"
                                font_size: root.main_font_size
                                #font_name: "main_font.ttf"
                                center_x: self.parent.center_x
                                center_y: self.parent.center_y

                        # Прокачка клика бота
                        Label:
                            id: text_bot_summation
                            font_size: root.main_font_size
                            font_name: "main_font.ttf"
                            color: 0,0,0,1
                            allow_stretch: True
                            keep_ratio: False
                            pos_hint: {"center_x":.6,"center_y":.7}
                            size_hint: (.4,.4)
                            text_size: self.width, None
                        ButImage:


                            size_hint: .3,.1
                            pos_hint: {"center_x":.5,"center_y":.8}



                            allow_stretch: True
                            keep_ratio: False



                            on_press: root.buy_bot_summation()

                            source: "button_normal.jpg"
                            Label:
                                text: "Купить"
                                font_size: root.main_font_size
                                #font_name: "main_font.ttf"
                                center_x: self.parent.center_x
                                center_y: self.parent.center_y

                SettingsTab:
                    text: "Скоро!!!"
                    FloatLayout:
                        Label:
                            color: 0,0,0,1
                            font_name: "main_font.ttf"
                            font_size: root.main_font_size

                            text: "Скоро появятся новые акции!!! Ждите!!"
                            text_size: self.width, None
        MDBottomNavigationItem:
            id: games
            text: "Игры"
            icon: 'google-controller'
            name: 'games'
            MDTabs:
                lock_swiping: True
                SettingsTab:

                    text: "Рулетка"



                    FloatLayout:
                        id: find_it1
                        Label:
                            id: value_bet_text
                            text: "Ваша ставка: ??? TON"
                            font_size: root.main_font_size
                            font_name: "main_font.ttf"
                            size_hint: .3,.3
                            color: 0,0,0,1
                            pos_hint: {"center_x":.5,"center_y":.8}
                            text_size: self.width, None
                        ButImage:


                            size_hint: .3,.1
                            pos_hint: {"center_x":.5,"center_y":.5}



                            allow_stretch: True
                            keep_ratio: False
                            id: buy_doubling


                            on_press: root.find_it()

                            source: "button_normal.jpg"
                            Label:
                                text: "Крутить"
                                font_size: root.main_font_size
                                #font_name: "main_font.ttf"
                                center_x: self.parent.center_x
                                center_y: self.parent.center_y

                        Label:
                            text: "Установите ставку в %:"
                            font_size: root.main_font_size
                            #font_name: "main_font.ttf"
                            size_hint: .3,.3
                            color: 0,0,0,1
                            pos_hint: {"center_x":.5,"center_y":.2}

                        MDSlider:
                            id: bet_value
                            min: 0

                            max: 100
                            step: 1
                            on_touch_up: root.show_value()
                            size_hint: .8,.3
                            pos_hint: {"center_x":.5,"center_y":.1}
                            orientation: 'horizontal'


                SettingsTab:
                    text: "Скоро!!!"
                    FloatLayout:
                        Label:
                            color: 0,0,0,1
                            font_size: root.main_font_size
                            font_name: "main_font.ttf"
                            text: "Скоро появятся новые миниигры!!! Ждите!!"
